# 高级信息栏 (Advanced InfoBar)

**版本: 11.0.0**

一个为 SillyTavern 设计的功能强大、可高度自定义的信息栏系统，用于实时追踪和展示剧情中的各种数据。

---

## ✨ 功能特性

- **高度可定制**: 通过图形化设置界面，自由选择超过20个面板和数百个数据项，打造符合你独特需求的专属信息栏。
- **持久化存储**: 所有设置和每个聊天的数据都安全地存储在服务器端，更换浏览器或清除缓存都不会丢失。
- **实时更新**: AI在回复中提供的数据会自动解析并更新到信息栏，无需手动操作。
- **多主题支持**: 内置多种精美主题（现代深色、赛博朋克、羊皮纸魔法等），并支持自定义字体，完美融入你的SillyTavern界面。
- **实时数据表格**: 提供一个独立的“数据表格”弹窗，可以实时预览和**手动编辑**当前所有的信息栏数据，方便调试或修正AI的错误。
- **记忆辅助**: 可将当前所有信息栏数据整合成一段摘要，自动注入到AI的上下文中，极大地提升AI的记忆力和剧情连贯性。
- **模块化设计**: 丰富的面板涵盖个人、交互、任务、公司、末日、修仙、科幻等多种题材，按需启用。

---

## ⚙️ 安装

1.  将整个 `advanced-infobar` 文件夹复制到您的 `SillyTavern/extensions` 目录下。
2.  重启 SillyTavern 服务器。
3.  安装完成！

---

## 🚀 如何使用

1.  **打开设置**: 在SillyTavern左侧的扩展菜单中，点击 “高级信息栏设置”。
2.  **配置面板**:
    - 在弹出的设置界面中，左侧是面板列表。点击不同的面板（如“个人信息”、“交互对象”）。
    - 在右侧，首先勾选“启用此面板”。
    - 然后，根据你的需要，勾选该面板下你希望追踪的具体数据项（如“姓名”、“好感度”等）。
    - 在“基础设置”面板中，你可以选择喜欢的主题和字体。
3.  **与AI交互**:
    - 在你的角色卡、世界信息或直接在提示中，告诉AI在回复时需要提供`<infobar_data>`数据块。
    - AI的回复现在会自动附带一个可交互的信息栏。
4.  **使用数据表格**:
    - 在扩展菜单中，点击“数据表格”。
    - 在弹出的窗口中，你可以查看当前所有的信息栏数据。
    - 直接点击数值即可进行修改。修改后，点击“保存并刷新信息栏”按钮，聊天界面中的信息栏会立刻更新。

---

## 🤖 给AI的提示示例

为了让AI能够正确地提供数据，你需要在提示中指导它。以下是一个很好的示例：

> 【系统指令】
> 你的回复必须严格遵循以下格式：
> 1.  剧情正文。
> 2.  一个包含所有数据更新的`<infobar_data>`代码块。
>
> `<infobar_data>`代码块格式如下：
> `panel_name: key1="value1", key2="value2", ...`
>
> 例如，更新个人信息和世界时间：
> `<infobar_data>`
> `personal: mood="开心", thoughts="今晚吃什么呢？"`
> `world: time="下午3:00"`
> `</infobar_data>`
>
> 对于交互对象（NPC），请使用`npcX`前缀，其中X是数字索引（从0开始）：
> `<infobar_data>`
> `interaction: npc0.name="苏晚晴", npc0.affection="65", npc0.mood="好奇", npc1.name="王刚", npc1.isPresent="false"`
> `</...
